<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>图片切换</title>
		<style>
			#demo {
				width: 380px;
				height: 200px;
			}
	
			#demo ul {
				width: 150px;
				height: 20px;
				list-style: none;
				margin-top: 0px;
				float: right;
				margin-right: -15px;
			}
	
			#demo ul li {
				width: 20px;
				height: 20px;
				float: left;
				text-align: center;
				margin-right: 3px;
				background-color: black;
				color: white;
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<div id="demo">
			<a id="a1"><img src="../chapter5/img/dd_scroll_1.jpg" name="img" align="center" id="img"/>
				<ul id="bt">
					<li onmousemove="MouserOver(1)" onmouseout="MouseOut()">1</li>
					<li onmousemove="MouserOver(2)" onmouseout="MouseOut()">2</li>
					<li onmousemove="MouserOver(3)" onmouseout="MouseOut()">3</li>
					<li onmousemove="MouserOver(4)" onmouseout="MouseOut()">4</li>
					<li onmousemove="MouserOver(5)" onmouseout="MouseOut()">5</li>
					<li onmousemove="MouserOver(6)" onmouseout="MouseOut()">6</li>
				</ul>
			</a>
		</div>
		
		<script>
			var num = 1; //当前滚动默认索引为1
			var myTime; //定时器
			window.onload = MouseOut();

			function MouseOut() {
				myTime = setInterval("show()", 1000);
			}

			function show() { //轮播
				num = (num == 6) ? 1 : (num + 1);
				document.getElementById("img").src = "../chapter5/img/dd_scroll_" + num + ".jpg"; //修改图片的src
				for (var i = 0; i < document.getElementById("bt").children.length; i++) {
					//初始化所有的进度条为背景为黑色,字体为白色
					document.getElementById("bt").children[i].style.backgroundColor = "black";
					document.getElementById("bt").children[i].style.color = "white";
					if (i == num - 1) { //如果当前滚动正好等于i
						document.getElementById("bt").children[i].style.backgroundColor = "#ada";
						document.getElementById("bt").children[i].style.color = "#030";
					}
				}
			}

			function MouserOver(n) { //鼠标悬停
				window.clearInterval(myTime);
				num = n - 1;
				show();
			}
		</script>
	</body>
</html>
